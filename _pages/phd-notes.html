---
layout: archive
title: "PhD Notes"
permalink: /phd-notes/
author_profile: true
---

{% include base_path %}

{% assign notes_root = "/files/phd-notes/" %}
{% assign note_files = site.static_files | where_exp: "f", "f.path contains notes_root" | sort: "path" %}
{% assign pdf_files = note_files | where_exp: "f", "f.extname == '.pdf'" %}
{% assign tex_files = note_files | where_exp: "f", "f.extname == '.tex'" %}

<section class="phd-notes-page">
  <header class="phd-notes-hero">
    <span class="phd-notes-kicker">Research Library</span>
    <h2>PhD Notes</h2>
    <p class="phd-notes-subtitle">Notas del doctorado ordenadas por semestre y materia.</p>
    <div class="phd-notes-meta">
      <span class="phd-notes-chip">{{ pdf_files.size }} PDFs</span>
      <span class="phd-notes-chip">{{ tex_files.size }} TEX files</span>
      <details class="phd-notes-help">
        <summary>Como agregar nuevos archivos</summary>
        <div class="phd-notes-help-content">
          <code>files/phd-notes/&lt;semestre&gt;/&lt;materia&gt;/archivo.pdf</code>
          +
          <code>files/phd-notes/&lt;semestre&gt;/&lt;materia&gt;/archivo.tex</code>
        </div>
      </details>
    </div>
  </header>

  {% if pdf_files.size == 0 %}
    <p>Todavia no hay notas cargadas.</p>
  {% else %}
    {% assign semesters = pdf_files | group_by_exp: "item", "item.path | remove_first: notes_root | split: '/' | first" %}

    {% for semester in semesters %}
      <section class="phd-semester">
        <div class="phd-semester-head">
          <h3>{{ semester.name | replace: "-", " " | replace: "_", " " }}</h3>
          <span class="phd-semester-count">{{ semester.items.size }} notas</span>
        </div>

        {% assign courses = semester.items | group_by_exp: "item", "item.path | remove_first: notes_root | split: '/' | slice: 1, 1 | first" %}
        <div class="phd-course-grid">
          {% for course in courses %}
            {% assign course_words = course.name | replace: "-", " " | replace: "_", " " | split: " " %}
            {% capture course_title %}
              {% for word in course_words %}
                {% if word != "" %}{{ word | capitalize }}{% unless forloop.last %} {% endunless %}{% endif %}
              {% endfor %}
            {% endcapture %}

            <article class="phd-course-card">
              <div class="phd-course-head">
                <h4 class="phd-course-title">{{ course_title | strip }}</h4>
                <span class="phd-course-count">{{ course.items.size }} notas</span>
              </div>
              <ul class="phd-note-list">
                {% for pdf in course.items %}
                  {% assign rel_path_parts = pdf.path | split: "/" %}
                  {% assign file_name = rel_path_parts | last | remove: ".pdf" %}
                  {% assign tex_path = pdf.path | replace: ".pdf", ".tex" %}
                  {% assign tex_file = note_files | where: "path", tex_path | first %}
                  {% assign pdf_url = pdf.path | uri_escape | replace: "%2F", "/" %}
                  {% assign tex_url = tex_path | uri_escape | replace: "%2F", "/" %}

                  <li class="phd-note-item">
                    <p class="phd-note-name">{{ file_name }}</p>
                    <div class="phd-note-links">
                      <a class="phd-link-btn" href="{{ base_path }}{{ pdf_url }}">PDF</a>
                      {% if tex_file %}
                        <a class="phd-link-btn" href="{{ base_path }}{{ tex_url }}">TEX</a>
                      {% else %}
                        <span class="phd-link-muted">TEX pending</span>
                      {% endif %}
                    </div>
                  </li>
                {% endfor %}
              </ul>
            </article>
          {% endfor %}
        </div>
      </section>
    {% endfor %}
  {% endif %}
</section>
